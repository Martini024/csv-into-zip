(this["webpackJsonpwpforms-extract-files"]=this["webpackJsonpwpforms-extract-files"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),c=n.n(i),l=(n(128),n.p+"static/media/logo.6ce24c58.svg"),o=n(214),u=n(213),s=n(46),d=(n(129),n(130),n(61)),j=n(209),p=n(212),b=n(211),f=n(210),m=n(109),O=n.n(m),h=n(110),g=n.n(h),v=n(68),x=n.n(v),F=n(111);function y(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function C(e){return e.split(".").pop()}var N=n(7);function S(){var e=j.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(a.useState)(null),r=Object(d.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),u=o[0],m=o[1],h=Object(a.useState)([]),v=Object(d.a)(h,2),S=v[0],w=v[1],z=function(){m(!1),t.resetFields()},B=function(){var e=t.getFieldsValue();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ROW",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"_",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"file_bundle",l=new O.a;x.a.parse(e,{download:!0,header:!0,complete:function(e){e.data.forEach((function(e){n.forEach((function(n){if(y(e[n])){var o=C(e[n]),u="";switch(t){case"ROW":var s=a.map((function(t){return e[t]?e[t]:"null"})).join(i);u="".concat(c,"/").concat(s,"/").concat(n,".").concat(o);break;case"COLUMN":var d=r.map((function(t){return e[t]?e[t]:"null"})).join(i);u="".concat(c,"/").concat(n,"/").concat(d,".").concat(o)}l.file(u,new Promise((function(t,a){g.a.getBinaryContent(e[n],(function(e,n){e?a(e):t(n)}))})),{binary:!0,createFolders:!0})}}))})),l.generateAsync({type:"blob"}).then((function(e){Object(F.saveAs)(e,c)}))}})}(e.csvFile,e.groupBy,e.urlColumns,e.folderNameStruct,e.fileNameStruct,e.separator,e.zipFileName)};return Object(a.useEffect)((function(){i&&function(e){return new Promise((function(t,n){x.a.parse(e,{preview:1,complete:function(e){var n;t(null===(n=e.data)||void 0===n?void 0:n[0])},error:n})}))}(i).then((function(e){w(e.map((function(e){return{label:e,value:e}})))}))}),[i]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.a,{type:"primary",onClick:function(){return m(!0)},children:"Generate Zip"}),Object(N.jsx)(p.a,{visible:u,maskClosable:!1,title:"Generate Zip",onOk:function(){B(),z()},onCancel:function(){return z()},children:Object(N.jsxs)(j.a,{form:t,layout:"vertical",onFinish:B,children:[Object(N.jsx)(j.a.Item,{label:"CSV File",name:"csvFile",valuePropName:"file",getValueFromEvent:function(e){return e.target.files?e.target.files[0]:null},required:!0,children:Object(N.jsx)(b.a,{type:"file",onChange:function(e){return c(e.target.files?e.target.files[0]:null)}})}),Object(N.jsx)(j.a.Item,{label:"Group By",name:"groupBy",initialValue:"ROW",required:!0,children:Object(N.jsx)(f.a,{options:[{label:"Row",value:"ROW"},{label:"Column",value:"COLUMN"}]})}),Object(N.jsx)(j.a.Item,{label:"URL Columns",name:"urlColumns",required:!0,children:Object(N.jsx)(f.a,{mode:"multiple",options:S})}),Object(N.jsx)(j.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.groupBy!==t.groupBy},children:function(e){var t=e.getFieldValue;return Object(N.jsxs)(N.Fragment,{children:["ROW"===t("groupBy")&&Object(N.jsx)(j.a.Item,{label:"Folder Name Structure",name:"folderNameStruct",required:!0,children:Object(N.jsx)(f.a,{mode:"multiple",options:S})}),"COLUMN"===t("groupBy")&&Object(N.jsx)(j.a.Item,{label:"File Name Structure",name:"fileNameStruct",required:!0,children:Object(N.jsx)(f.a,{mode:"multiple",options:S})})]})}}),Object(N.jsx)(j.a.Item,{label:"Separator",name:"separator",initialValue:"_",required:!0,children:Object(N.jsx)(b.a,{type:"text",maxLength:"1"})}),Object(N.jsx)(j.a.Item,{label:"Zip File Name",name:"zipFileName",required:!0,children:Object(N.jsx)(b.a,{type:"text"})})]})})]})}var w=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)("header",{className:"App-header",children:[Object(N.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(N.jsx)("p",{children:"Batch download files from urls inside csv file."}),Object(N.jsxs)(u.b,{direction:"vertical",children:[Object(N.jsx)(S,{}),Object(N.jsxs)(s.a,{type:"link",size:"large",href:"https://github.com/Martini024/csv-into-zip",target:"_blank",rel:"noopener noreferrer",children:[Object(N.jsx)(o.a,{}),"CSV into Zip"]})]})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(w,{})}),document.getElementById("root")),z()}},[[206,1,2]]]);
//# sourceMappingURL=main.3f04cdae.chunk.js.map