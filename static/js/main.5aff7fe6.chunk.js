(this["webpackJsonpcsv-into-zip"]=this["webpackJsonpcsv-into-zip"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(21),c=n.n(i),l=(n(128),n.p+"static/media/logo.6ce24c58.svg"),o=n(214),u=n(213),s=n(46),d=(n(129),n(130),n(61)),j=n(209),p=n(212),b=n(211),m=n(210),f=n(109),O=n.n(f),h=n(110),v=n.n(h),g=n(68),x=n.n(g),y=n(111);function F(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function N(e){return e.split(".").pop()}var C=n(7);function S(){var e=j.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(a.useState)(null),r=Object(d.a)(n,2),i=r[0],c=r[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),u=o[0],f=o[1],h=Object(a.useState)([]),g=Object(d.a)(h,2),S=g[0],z=g[1],w=function(){f(!1),t.resetFields()},B=function(){var e=t.getFieldsValue();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ROW",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"_",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"file_bundle",l=new O.a;x.a.parse(e,{download:!0,header:!0,complete:function(e){e.data.forEach((function(e){n.forEach((function(n){if(F(e[n])){var o=N(e[n]),u="";switch(t){case"ROW":var s=a.map((function(t){return e[t]?e[t]:"null"})).join(i);u="".concat(c,"/").concat(s,"/").concat(n,".").concat(o);break;case"COLUMN":var d=r.map((function(t){return e[t]?e[t]:"null"})).join(i);u="".concat(c,"/").concat(n,"/").concat(d,".").concat(o)}l.file(u,new Promise((function(t,a){v.a.getBinaryContent(e[n],(function(e,n){e?a(e):t(n)}))})),{binary:!0,createFolders:!0})}}))})),l.generateAsync({type:"blob"}).then((function(e){Object(y.saveAs)(e,c)}))}})}(e.csvFile,e.groupBy,e.urlColumns,e.folderNameStruct,e.fileNameStruct,e.separator,e.zipFileName)};return Object(a.useEffect)((function(){i&&function(e){return new Promise((function(t,n){x.a.parse(e,{preview:1,complete:function(e){var n;t(null===(n=e.data)||void 0===n?void 0:n[0])},error:n})}))}(i).then((function(e){z(e.map((function(e){return{label:e,value:e}})))}))}),[i]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(s.a,{type:"primary",onClick:function(){return f(!0)},children:"Generate Zip"}),Object(C.jsx)(p.a,{visible:u,maskClosable:!1,title:"Generate Zip",onOk:function(){B(),w()},onCancel:function(){return w()},children:Object(C.jsxs)(j.a,{form:t,layout:"vertical",onFinish:B,children:[Object(C.jsx)(j.a.Item,{label:"CSV File",name:"csvFile",valuePropName:"file",getValueFromEvent:function(e){return e.target.files?e.target.files[0]:null},required:!0,children:Object(C.jsx)(b.a,{type:"file",onChange:function(e){return c(e.target.files?e.target.files[0]:null)}})}),Object(C.jsx)(j.a.Item,{label:"Group By",name:"groupBy",initialValue:"ROW",required:!0,children:Object(C.jsx)(m.a,{options:[{label:"Row",value:"ROW"},{label:"Column",value:"COLUMN"}]})}),Object(C.jsx)(j.a.Item,{label:"URL Columns",name:"urlColumns",required:!0,children:Object(C.jsx)(m.a,{mode:"multiple",options:S})}),Object(C.jsx)(j.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.groupBy!==t.groupBy},children:function(e){var t=e.getFieldValue;return Object(C.jsxs)(C.Fragment,{children:["ROW"===t("groupBy")&&Object(C.jsx)(j.a.Item,{label:"Folder Name Structure",name:"folderNameStruct",required:!0,children:Object(C.jsx)(m.a,{mode:"multiple",options:S})}),"COLUMN"===t("groupBy")&&Object(C.jsx)(j.a.Item,{label:"File Name Structure",name:"fileNameStruct",required:!0,children:Object(C.jsx)(m.a,{mode:"multiple",options:S})})]})}}),Object(C.jsx)(j.a.Item,{label:"Separator",name:"separator",initialValue:"_",required:!0,children:Object(C.jsx)(b.a,{type:"text",maxLength:"1"})}),Object(C.jsx)(j.a.Item,{label:"Zip File Name",name:"zipFileName",required:!0,children:Object(C.jsx)(b.a,{type:"text"})})]})})]})}var z=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)("header",{className:"App-header",children:[Object(C.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(C.jsx)("p",{children:"Batch download files from urls inside csv file."}),Object(C.jsxs)(u.b,{direction:"vertical",children:[Object(C.jsx)(S,{}),Object(C.jsxs)(s.a,{type:"link",size:"large",href:"https://github.com/Martini024/csv-into-zip",target:"_blank",rel:"noopener noreferrer",children:[Object(C.jsx)(o.a,{}),"CSV into Zip"]})]})]})})};c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(z,{})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.5aff7fe6.chunk.js.map